<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1" />

    <title>بسم الله الرحمن الرحيم</title>

    <link rel="stylesheet" type="text/css" href="css/reset.css">
    <link rel="stylesheet" type="text/css" href="css/progress.bar.css">
    <link rel="stylesheet" type="text/css" href="css/template.css">
    <link rel="stylesheet" type="text/css" href="css/font.css">
	<style>
		.progress-bar-parent {
			background-color: rgba(223, 244, 249, 0.95);
			display: none;
			z-index: 50300;
		}
	</style>
	<script src="js/jquery-2.2.2.min.js"></script>
	<!--<script src="js/console.log.js"></script>-->
    <script src="cordova.js"></script>
    <script src="js/jquery.md5.js"></script>
    <script src="js/fastclick.js"></script>
    <script src="js/hammer.min.js"></script>
    <script src="js/back_btn.js"></script>
	<script src="js/notification.js"></script>
	<script src="js/iscroll.js"  type="text/javascript"></script>
	<script>
/////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////
/////START DOWNLOAD//////////////////////////////////////////////////////////////////////
		var temp_element;
		var progress_bar_element;
		function temp_function() {
			// do something
		}
/////END DOWNLOAD////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////

		function init() {		
			console.log('SMGROUP ::::::::::::::::::::::::::::::::::::    start init()');
			document.addEventListener("deviceready", onDeviceReady, false);
			/**** added by mahdi *********/
			if(isRetina())
			{
				$('.retina').each( function(i) {
					var back = $(this).css('background-image');
					back = back.replace("/low", "/high");
					$(this).css('background-image',back);
				});
				$('.retina:before').each( function(i) {
					var back = $(this).css('background-image');
					back = back.replace("/low", "/high");
					$(this).css('background-image',back);
				});
			}
			var mc = new Hammer(document.getElementById("hamer_handel"));
			mc.on("swiperight", function(ev) {
				go_back_adab();
			});
			var isAlreadyLoading = 0, jump = false;
 			var myScroll = new iScroll('smm_adab_wrapper', { hideScrollbar: true, bounce : "enable",useTransition: true });
 			
			/*****************************/
		}


		function onDeviceReady() {
		
			var networkState = navigator.connection.type;

			FastClick.attach(document.body);
 			if ( device.platform == 'Android' ){//Android,iOS,win7=WinCE,win8=Win32NT
 				document.addEventListener("backbutton", go_back_adab, false);
 			}
			
			register_notification();
/////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////
/////START DOWNLOAD//////////////////////////////////////////////////////////////////////
			init_audio();
			
			$('.play_it').each( function(i) {
				//$(this).css("display","none");
				var temp_array = JSON.parse(window.localStorage.getItem('downloaded_files'));
				if($.inArray($.md5($(this).attr('online')),temp_array) != -1)
				{
					$(this).removeClass("need_download").addClass("downloaded");
				}
			});
			$('.play_it').click( function(i) {
				temp_element = $(this);
				//alert($(this).attr('online'));
				
				//play_or_download('http://imamali.net/app-json/audio/aminalah.mp3','mp3');
				play_or_download($(this).attr('online'),"mp3");
			});
			
			
			
			if(window.localStorage.getItem('downloaded_files') == null){
				window.localStorage.setItem('downloaded_files',JSON.stringify(["786","110"]));	
			}
			
			
			if(window.localStorage.getItem('download_address') == null){
				
				window.requestFileSystem(LocalFileSystem.TEMPORARY, 0, 
					function(fs) {
						window.localStorage.setItem('download_address',fs.root.toURL());
					}, function(e) {
						alert('failed to get fs');
						alert(JSON.stringify(e));
					}
				);
			}

			console.log("window.localStorage.getItem('download_address'):" + window.localStorage.getItem('download_address'));
			console.log("window.localStorage.getItem('downloaded_files'):" + window.localStorage.getItem('downloaded_files'));
/////END DOWNLOAD////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////
			
			

		}
/////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////
/////START DOWNLOAD//////////////////////////////////////////////////////////////////////
		function play_or_download(URL,Extension) {
			console.log("play_or_download URL: " + URL);
			console.log("play_or_download Extension: " + Extension);

			if (device.platform == 'iOS')
			{
				downloadPath = "cdvfile://localhost/persistent/";
				window.localStorage.setItem('download_address',downloadPath);
			}
			
			downloadPath = window.localStorage.getItem('download_address') + $.md5(URL) + "." + Extension;
			console.log("play_or_download : " + downloadPath);
			if(temp_element.attr("play_type")=="offline")
			{
					console.log("play_or_download : play offline");
					
					playAudio_new(URL,false);
			}
			else
			{
				if(check_download(URL))
				{
					console.log("play_or_download : check_download");
					
					playAudio_new(downloadPath,true);
					//var media = new Media(downloadPath, null, function(e) { alert(JSON.stringify(e));});
					//media.play();
				}
				else
				{
					console.log("play_or_download : start_download");
					start_download(URL,Extension);
				}
			}
		}

		function start_download(URL,Extension) {
			console.log("start_download check internet");
			networkState = navigator.connection.type;
			if (networkState == Connection.NONE) {
				console.log("start_download : NO internet");
				navigator.notification.alert(
					'يجب عليك الاتصال بالانترنت',  // message
					temp_function,         // callback
					'تنبيه',            // title
					'نعم'                  // buttonName
				);
			}
			else{
				console.log("start_download : we have internet");

				console.log("start_download URL: " + URL);
				console.log("start_download Extension: " + Extension);
				
				var FileTransfer_OBJ = new FileTransfer();
				var uri = encodeURI(URL + "?" + Math.random());
				
				if (device.platform == 'iOS')
				{
					downloadPath = "cdvfile://localhost/persistent/";
					window.localStorage.setItem('download_address',downloadPath);
				}
				
				$('.progress-bar-parent').css("display","block");
				
				downloadPath = window.localStorage.getItem('download_address') + $.md5(URL) + "." + Extension;
				console.log("start_download : " + downloadPath);
				
				FileTransfer_OBJ.onprogress = function(progressEvent) {
					if (progressEvent.lengthComputable) {
						var perc = Math.floor(progressEvent.loaded / progressEvent.total * 100);
						$('#status').html(perc + "%");
						$('.progress-bar-percent').css('width',perc + "%");
						//progress_bar_element.css('width',perc);
					} else {
						$('#status').html($('#status').html() + ".");
						//progress_bar_element.css('width',progress_bar_element.width()+1);
						$('.progress-bar-percent').css('width',$('.progress-bar-parent').find('span').width()+1);
					}
				};
				
				FileTransfer_OBJ.download(uri, downloadPath, 
					function(entry) {	
						$('#status').html("");
						$('.progress-bar-parent').find('span').css('width','2%');
						console.log("start_download : done");
						temp_array = JSON.parse(window.localStorage.getItem('downloaded_files'));
						temp_array.push($.md5(URL));
						window.localStorage.setItem('downloaded_files',JSON.stringify(temp_array));	
						
						temp_element.removeClass("need_download");
						$('.progress-bar-parent').css("display","none");				
						$('#play').trigger("click");				
					}, 
					function(error) {
						//alert('Crap something went wrong...');	
						//alert(JSON.stringify(error));
						navigator.notification.alert(
							'فشل في تحميل الملف',  // message
							temp_function,         // callback
							'تنبيه',            // title
							'نعم'                  // buttonName
						);
						$('.progress-bar-parent').find('span').css('width','2%');
						$('.progress-bar-percent').css('width',"");
						$('.progress-bar-parent').css("display","none");
					},
					true
				);
				
				$("#abort").click( function(i) {
					FileTransfer_OBJ.abort();
					$('.progress-bar-parent').find('span').css('width','2%');
					$('.progress-bar-percent').css('width',"");
					$('.progress-bar-parent').css("display","none");
				});
				
			}
		}
		
		function check_download(URL) {
			console.log("check_download URL: " + URL);
			var temp_array = JSON.parse(window.localStorage.getItem('downloaded_files'));
			console.log("check_download Extension: " + window.localStorage.getItem('downloaded_files'));
			if($.inArray($.md5(URL),temp_array) != -1)
			{
				console.log("check_download true");
				return true;
			}
			else
			{
				console.log("check_download false");
				return false;
			}
		}
/////END DOWNLOAD////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////

		$(window).load(function() {		
			setTimeout(function(){
				$(".mypreload").html("");
			}, 800);
		
		});

		function isHighDensity(){
			return ((window.matchMedia && (window.matchMedia('only screen and (min-resolution: 124dpi), only screen and (min-resolution: 1.3dppx), only screen and (min-resolution: 48.8dpcm)').matches || window.matchMedia('only screen and (-webkit-min-device-pixel-ratio: 1.3), only screen and (-o-min-device-pixel-ratio: 2.6/2), only screen and (min--moz-device-pixel-ratio: 1.3), only screen and (min-device-pixel-ratio: 1.3)').matches)) || (window.devicePixelRatio && window.devicePixelRatio > 1.3));
		}
		function isRetina(){
			return ((window.matchMedia && (window.matchMedia('only screen and (min-resolution: 192dpi), only screen and (min-resolution: 2dppx), only screen and (min-resolution: 75.6dpcm)').matches || window.matchMedia('only screen and (-webkit-min-device-pixel-ratio: 2), only screen and (-o-min-device-pixel-ratio: 2/1), only screen and (min--moz-device-pixel-ratio: 2), only screen and (min-device-pixel-ratio: 2)').matches)) || (window.devicePixelRatio && window.devicePixelRatio >= 2)) && /(iPad|iPhone|iPod)/g.test(navigator.userAgent);
		}
		$(document).ready(function(){
			
		});
		
	</script>	

		
		
		
<style>


</style>	
</head>
<body onload="init();" leftmargin="0" topmargin="0" marginwidth="0" marginheight="0" id="body" class="smm_ziarat_body retina">
	<div class="bg" ></div>
	<div class="container " id="container" >
			<div id="ajax" class="mypreload">
				<div style="z-index: 1000; border: medium none; margin: 0px; padding: 0px; width: 100%; height: 100%; top: 0px; left: 0px; background-color: #1e92c4; opacity: 1; cursor: default; position: fixed;overflow:visible;" class="blockUI blockOverlay"></div>
				<div style="z-index: 1011; position: fixed; padding: 0px; margin: 0px; width: 100%; top: 28%; left: 0%; text-align: center;border: medium none;overflow:visible;" class="blockUI blockMsg blockPage"><img src="images/preloader.gif"></div>
				<div style="z-index: 1012; position: fixed; padding: 0px; margin: 0px; width: 100%; top: 50%; left: 0%; text-align: center;border: medium none;overflow:visible;height:500px;" class="blockUI blockMsg blockPage"><img src="images/loading.png" width="70%"></div>
			</div>
		<div class="smm_content" id="hamer_handel">
			<div class="smm_adab_title retina">
				<a href="#" onclick="goto_perv_page('adab.html',false);">
					<span class="smm_ziarat_back"></span>
				</a>
			</div>
			<div class="smm_adab_content">
				<div id="smm_adab_wrapper" style="position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 1vw;
    overflow: auto;
    text-align: right;">
					<div>
						<p class="smm_adab_subject">
							  دعاء كميل
						</p>
						<div class="smm_adab_text" style="margin-bottom: 10vw;padding-bottom: 10vw;">
                        
                        
                      
اللّهُمَّ إِنِّي أَسأَلُكَ بِرَحْمَتِكَ الَّتِي وَسِعَتْ كُلَّ شَيْءٍ، وَبِقُوَّتِكَ الَّتِي قَهَرْتَ بِها كُلَّ شَيْءٍ، وَخضَعَ لَها كُلُّ شَيْءٍ، وَذَلَّ لَها كُلُّ شَيْءٍ، وَبِجَبَرُوتِكَ الَّتِي غَلَبْتَ بِها كُلَّ شَيْءٍ، وَبعَزَّتِكَ الَّتِي لا يَقُومُ لَها شَيْءٌ، وَبِعَظَمَتِكَ الَّتِي مَلَأَتْ كُلَّ شَيْءٍ، وَبِسُلْطانِكَ الَّذِي عَلَا كُلَّ شَيْءٍ، وَبِوَجْهِكَ الباقِي بَعْدَ فَناءِ كُلِّ شَيْءٍ، وَبِأَسْمائِكَ الَّتِي مَلَأَتْ أَرْكانَ كُلِّ شَيْءٍ، وَبِعِلْمِكَ الَّذِي أَحاطَ بِكُلِّ شَيْءٍ، وَبِنُورِ وَجْهِكَ الَّذِي أَضاءَ لَهُ كُلُّ شَيْءٍ، يا نوُرُ يا قُدُّوسُ، يا أَوَّلَ الأَوَّلِينَ، وَيا آخِرَ الآخرينَ. اللّهُمَّ اغْفِرْ لِيَ الذُّنُوبَ الَّتِي تَهْتِكُ العِصَمَ، اللّهُمَّ اغْفِرْ لِيَ الذُّنُوبَ الَّتِي تُنْزِلُ النِّقَمَ. اللّهُمَّ اغْفِرْ لِيَ الذُّنُوبَ الَّتِي تُغَيِّرُ النِّعَمَ، اللّهُمَّ اغْفِرْ لِيَ الذُّنُوبَ الَّتِي تَحْبِسُ الدُّعاءَ. اللّهُمَّ اغْفِرْ لِيَ الّذنُوبَ الّتي تُنْزِلُ البَلَاء. اللّهُمَّ اغْفِرْ لِي كُلَّ ذَنْبٍ أذْنَبْتُهُ، وَكُلَّ خَطِيئَةٍ أَخْطَأْتُها. اللّهُمَّ إِنِّي أَتَقَرَّبُ إِلَيْكَ بِذِكْرِكَ وَأَسْتَشفِعُ بِكَ إِلى نَفْسِكَ، وَأَسْأَلُكَ بِجوُدِكَ أَنْ تُدْنِيَنِي مِنْ قُرْبِكَ، وَأَنْ تُوزِعَنِي شُكْرَكَ، وأَنْ تُلْهِمَنِي ذِكْرَكَ. اللّهُمَّ إِنِّي أَسأَلُكَ سُؤالَ خاضِعٍ مُتَذَلِّلٍ خاشِعٍ، أَنْ تُسامِحَنِي وَتَرْحَمَنِي، وَتَجْعَلَنِي بِقِسْمِكَ راضِياً قانِعاً، وَفِي جَمِيعِ الأَحْوالِ مُتَواضِعاً. اللّهُمَّ وَأَسأَلُكَ سُؤالَ مَنِ اِشْتَدَّتْ فاقَتُهُ، وَأَنْزَلَ بِكَ عِنْدَ الشَّدائِدِ حاجَتَهُ، وَعَظُمَ فِيما عِنْدَكَ رَغْبَتُهُ. اللّهُمَّ عَظُمَ سُلْطانُكَ وَعَلَا مَكانُكَ، وَخَفِيَ مَكْرُكَ، وَظَهَرَ أَمْرُكَ، وَغَلَبَ قَهْرُكَ، وَجَرَتْ قُدْرَتُكَ، وَلا يُمْكِنُ الفِرارُ مِنْ حُكُومَتِكَ. اللّهُمَّ لا أَجِدُ لِذُنُوبِي غافِراً وَلا لِقَبائِحِي سَاتِراً، وَلا لِشَيْءٍ مِنْ عَمَلِيَ القَبِيحِ بِالحَسَنِ مُبَدِّلاً غَيْرَكَ، لا إِلهَ إِلَّا أَنْتَ، سُبْحانَكَ وَبِحَمْدِكَ ظَلَمْتُ نَفْسِي، وَتَجَرَّأْتُ بِجَهْلِي، وَسَكَنْتُ إِلى قَدِيمِ ذِكْرِكَ لِي وَمَنِّكَ عَلَيَّ. اللّهُمَّ مَوْلايَ كَمْ مِنْ قَبيحٍ سَتَرْتَهُ، وَكَمْ مِنْ فادِحٍ مِنَ البَلاءِ أَقَلْتَهُ، وَكَمْ مِنْ عِثارٍ وَقَيْتَهُ، وَكَمْ مِنْ مَكْروُهٍ دَفَعْتَهُ، وَكَمْ مِنْ ثَناءٍ جَمِيلٍ لَسْتُ أَهْلاً لَهُ نَشَرْتَهُ.
<br/>
اللّهُمَّ عَظُمَ بَلائِي، وَأَفْرَطَ بِي سُوءُ حَالِي، وَقَصُرَتْ بِي أَعْمالِي، وَقَعَدَتْ بِي أَغْلالِي وَحَبَسَنِي عَنْ نَفْعِي بُعْدُ أَمَلِي، وَخَدَعَتْنِي الدُّنْيا بِغُرُورِها، وَنَفْسِي بِخِيانَتِها، وَمِطالِي يا سَيِّدِي فَأَسْأَلُكَ بِعِزَّتِكَ أَنْ لا يَحْجُبَ عَنْكَ دُعائِي سُوءُ عَمَلِي وَفِعالِي، وَلا تَفْضَحَنِي بِخَفِيِّ ما اطَّلَعْتَ عَلَيْهِ مِنْ سِرِّي، وَلا تُعاجِلْنِي بِالعُقُوبَةِ عَلى مَا عَمِلْتُهُ فِي خَلَواتِي مِنْ سُوءِ فِعْلِي وَإِساءَتِي، وَدَوامِ تَفْرِيطِي وَجَهالَتِي، وَكَثْرَةِ شَهَواتِي وَغَفْلَتِي، وَكُنِ اللّهُمَّ بِعِزَّتِكَ لِي فِي كُلِّ الأَحْوالِ رَؤُوفاً، وَعَلَيَّ فِي جَمِيعِ الأُمُورِ عَطُوفاً. إِلهِي وَرَبِّي مَنْ لِي غَيْرُكَ أَسأَلُهُ كَشْفَ ضُرِّي وَالنَّظَرَ فِي أَمْرِي. إِلهِي وَمَوْلايَ أَجْرَيْتَ عَلَيَّ حُكْماً اتَّبَعْتُ فِيهِ هَوى نَفْسِي، وَلَمْ أَحْتَرِسْ فِيهِ مِنْ تَزْيينِ عَدُوِّي، فَغَرَّنِي بِما أَهْوى وَأَسْعَدَهُ عَلى ذلِكَ القَضاءُ، فَتَجاوَزْتُ بِما جَرى عَلَيَّ مِنْ ذلِكَ بَعْضَ حُدُودِكَ، وَخالَفْتُ بَعْضَ أَوامِرِكَ، فَلَكَ الحَمْدُ عَلَيَّ فِي جَمِيعِ ذلِكَ وَلا حُجَّةَ لِي فِيما جَرى عَلَيَّ فِيهِ قَضاؤُكَ، وَأَلْزَمَنِي حُكْمُكَ وَبَلاؤُكَ، وَقَدْ أَتَيْتُكَ يا إِلهِي بَعْدَ تَقْصِيرِي وَإِسْرافِي عَلَى نَفْسِي مُعْتَذِراً نادِماً مُنْكَسِراً مُسْتَقِيلاً مُسْتَغْفِراً مُنِيباً مُقِرّاً مُذْعِناً مُعْتَرِفاً، لا أَجِدُ مَفَرّاً مِمّا كانَ مِنِّي وَلا مَفْزَعاً أَتَوَجَّهُ إِلَيْهِ فِي أَمْرِي، غَيْرَ قَبُوُلِكَ عُذْرِي وَإِدْخالِكَ إِيّايَ فِي سَعَةٍ مِنْ رَحْمَتِكَ.
<br/>
اللّهُمَّ فَاقْبَلْ عُذْرِي، وَارْحَمْ شِدَّةَ ضُرِّي وَفُكَّنِي مِنْ شَدِّ وَثاقِي، يا رَبِّ ارْحَمْ ضَعْفَ بَدَنِي، وَرِقَّةَ جِلْدِي وَدِقَّةَ عَظْمِي، يامَنْ بَدَأَ خَلْقِي وَذِكْرِي وَتَرْبِيَتِي وَبِرِّي وَتَغْذِيَتِي، هَبْنِي لابْتِداءِ كَرَمِكَ وَسالِفِ بِرِّكَ بِي، يا إِلهِي وَسَيِّدِي وَرَبِّي، أَتُراكَ مُعَذِّبِي بِنارِكَ بَعْدَ تَوْحِيدِكَ، وَبَعْدَما انْطَوى عَلَيْهِ قَلْبِي مِنْ مَعْرِفَتِكَ، وَلَهِجَ بِهِ لِسانِي مِنْ ذِكْرِكَ، وَاعْتَقَدَهُ ضَمِيرِي مِنْ حُبِّكَ، وَبَعْدَ صِدْقِ اعْتِرافِي وَدُعائِي خَاضِعَاً لِرُبُوبِيَّتِكَ، هَيْهاتَ! أَنْتَ أَكْرَمُ مِنْ أَنْ تُضَيِّعَ مَنْ رَبَّيْتَهُ، أَوْ تُبَعِّدَ مَنْ أَدْنَيْتَهُ، أَوْ تُشَرِّدَ مَنْ آوَيْتَهُ، أَوْ تُسَلِّمَ إِلى البَلاءِ مَنْ كَفَيْتَهُ وَرَحِمْتَهُ، وَلَيْتَ شِعْرِي يا سَيِّدِي وَإِلهِي وَمَوْلايَ! أَتُسَلِّطُ النّارَ عَلى وُجُوهٍ خَرَّتْ لِعَظَمَتِكَ ساجِدَةً، وَعَلى أَلْسُنٍ نَطَقَتْ بِتَوْحِيدِكَ صادِقَةً وَبُشُكْرِكَ مادِحَةً، وَعَلى قُلُوبٍ اعْتَرَفَتْ بِإِلهِيَّتِكَ مُحَقِّقَةً، وَعَلَى ضَمائِرَ حَوَتْ مِنَ العِلْمِ بِكَ حَتّى صارَتْ خاشِعَةً، وَعَلى جَوارِحَ سَعَتْ إِلى أَوْطانِ تَعَبُّدِكَ طائِعَةً، وَأَشارَتْ بِاسْتِغْفارِكَ مُذْعِنَةً؟! ما هكَذا الظَنُّ بِكَ وَلا أُخْبِرْنا بِفَضْلِكَ عَنْكَ يا كَرِيمُ، يا رَبِّ وَأَنْتَ تَعْلَمُ ضَعْفِي عَنْ قَلِيلٍ مِنْ بَلاءِ الدُّنْيا وَعُقُوباتِها، وَما يَجْرِي فِيها مِنَ المَكارِهِ عَلَى أَهْلِها، عَلَى أَنَّ ذلِكَ بَلاءٌ وَمَكْرُوهٌ قَلِيلٌ مَكْثُهُ، يَسِيرٌ بَقاؤهُ قَصِيٌر مُدَّتُهُ، فَكَيْفَ احْتِمالِي لِبَلاءِ الآخِرَةِ وَجَلِيلِ وُقُوعِ المَكارِهِ فِيها، وَهُوَ بَلاءٌ تَطُولُ مُدَّتُهُ وَيَدُومُ مَقامُهُ وَلا يُخَفَّفُ عَنْ أَهْلِهِ، لأَنَّهُ لا يَكُونُ إِلَّا عَنْ غَضَبِكَ وَانْتِقامِكَ وَسَخَطِكَ؟! وَهذا ما لا تَقُومُ لَهُ السَّماواتُ وَالأَرْضُ، يا سَيِّدِي فَكَيْفَ بِي وَأَنَاْ عَبْدُكَ الضَّعِيفُ الذَّلِيلُ الحَقِيرُ المِسْكِينُ المُسْتَكِينُ؟! يا إِلهِي وَرَبِّي وَسَيِّدِي وَمَوْلايَ، لِأَيِّ الأُمُورِ إِلَيْكَ أَشْكُو، وَلِما مِنها أَضِجُّ وَأَبْكِي، لِأَلِيمِ العَذابِ وَشِدَّتِهِ، أَمْ لِطُولِ البَلاءِ وَمُدَّتِهِ؟! فَلَئِنْ صَيَّرْتَنِي لِلْعُقُوباتِ مَعَ أَعْدائِكَ، وَجَمَعْتَ بَيْنِي وَبَيْنَ أَهْلِ بَلائِكَ، وَفَرَّقْتَ بَيْنِي وَبَيْنَ أَحِبّائِكَ وَأَوْلِيائِكَ؛ فَهَبْنِي يا إِلهِي وَسَيِّدِي وَمَوْلايَ وَرَبِّي، صَبَرْتُ عَلَى عَذابِكَ فَكَيْفَ أَصْبِرُ عَلَى فِراقِكَ؟ وَهَبْنِي صَبَرْتُ عَلى حَرِّ نارِكَ فَكَيْفَ أَصْبِرُ عَنِ النَّظَرِ إِلى كَرامَتِكَ؟ أَمْ كَيْفَ أَسْكُنُ فِي النّارِ وَرَجَائِي عَفْوُكَ؟ فَبِعِزَّتِكَ يا سَيِّدِي وَمَوْلايَ أُقْسِمُ صادِقاً، لَئِنْ تَرَكْتَنِي نَاطِقاً لَأَضِجَّنَّ إِلَيْكَ بَيْنَ أَهْلِها ضَجِيجَ الآمِلِينَ، وَلَأَصْرُخَنَّ إِلَيْكَ صُراخَ المُسْتَصْرِخِينَ، وَلَأَبْكِيَنَّ عَلَيْكَ بُكاءَ الفاقِدِينَ، وَلَأُنادِيَنَّكَ أَيْنَ أَنْتَ يا وَلِيَّ المُؤْمِنِينَ، يا غايَةَ آمالِ العارِفِينَ، يا غِياثَ المُسْتَغِيثِينَ، يا حَبِيبَ قُلوُبِ الصّادِقِينَ، وَيا إِلهَ العالَمينَ، أَفَتُراكَ سُبْحانَكَ يا إِلهي وَبِحَمْدِكَ تَسْمَعُ فِيها صَوْتَ عَبْدٍ مُسْلِمٍ سُجِنَ فِيها بِمُخالَفَتِهِ، وَذاقَ طَعْمَ عَذابِها بِمَعْصِيَتِهِ، وَحُبِسَ بَيْنَ أَطْباقِها بِجُرْمِهِ وَجَرِيرَتِهِ، وَهُوَ يَضِجُّ إِلَيْكَ ضَجِيجَ مُؤَمِّلٍ لِرَحْمَتِكَ، وَيُنادِيكَ بِلِسانِ أَهْلِ تَوْحِيدِكَ، وَيَتَوَسَّلُ إِلَيْكَ بِرُبُوبِيَّتِكَ، يا مَوْلايَ فَكَيْفَ يَبْقَى فِي العَذابِ وَهُوَ يَرْجوُ ما سَلَفَ مِنْ حِلْمِكَ؟ أَمْ كَيْفَ تُؤْلِمُهُ النَّارُ وَهُوَ يَأْمُلُ فَضْلَكَ وَرَحْمَتَكَ؟ أَمْ كَيْفَ يُحْرِقُهُ لَهِيبُها وَأَنْتَ تَسْمَعُ صَوْتَهُ وَتَرى مَكانَهُ؟ أَمْ كَيْفَ يَشْتَمِلُ عَلَيْهِ زَفِيرُها وَأَنْتَ تَعْلَمُ ضَعْفَهُ؟ أَمْ كَيْفَ يَتَقَلْقَلُ بَيْنَ أَطْباقِها وَأَنْتَ تَعْلَمُ صِدْقَهُ؟ أَمْ كَيْفَ تَزْجُرُهُ زَبانِيَتُها وَهُوَ يُنادِيكَ يا رَبَّاه؟ أَمْ كَيْفَ يَرْجُو فَضْلَكَ فِي عِتْقِهِ مِنْها فَتَتْرُكَهُ فِيها؟ هَيْهاتَ! ما ذَلِكَ الظَّنُّ بِكَ وَلا المُعْروفُ مِنْ فَضْلِكَ، وَلا مُشْبِهٌ لِما عامَلْتَ بِهِ المُوَحِّدِينَ مِنْ بِرِّكَ وَإِحْسانِكَ! فَبِالْيَقِينِ أَقَطَعُ، لَولا ما حَكَمْتَ بِهِ مِنْ تَعْذِيبِ جاحِدِيكَ، وَقَضَيْتَ بِهِ مِنْ إِخْلادِ مُعانِدِيكَ، لَجَعْلْتَ النَّارَ كُلَّها بَرْداً وَسَلاماً، وَما كَانَ لِأَحَدٍ فِيها مَقَرّاً وَلا مُقاماً، لكِنَّكَ تَقَدَّسَتْ أَسْماؤُكَ أَقْسَمْتَ أَنْ تَمْلَأَها مِنَ الكَافِرِينَ مِنَ الجِنَّةِ وَالنَّاسِ أَجْمَعِينَ، وَأَنْ تُخَلِّدَ فِيها المُعانِدِينَ، وَأَنْتَ جَلَّ ثَناؤُكَ قُلْتَ مُبْتَدِئاً، وَتَطَوَّلْتَ بِالإِنْعامِ مُتَكَرِّماً: أَفَمَنْ كَانَ مُؤْمِناً كَمَنْ كَانَ فَاسِقاً لَا يَسْتَوُونَ.
<br/>
إِلهِي وَسَيِّدِي فَأَسْأَلُكَ بِالقُدْرَةِ الَّتِي قَدَّرْتَها، وَبِالقَضِيَّةِ الَّتِي حَتَمْتَها وَحَكَمْتَها، وَغَلَبْتَ مَنْ عَلَيْهِ أَجْرَيْتَها، أَنْ تَهَبَ لِي فِي هذِهِ اللّيْلَةِ وَفِي هذِهِ السَّاعَةِ، كُلَّ جُرْمٍ أَجْرَمْتُهُ، وَكُلَّ ذَنْبٍ أَذْنَبْتُهُ، وَكُلَّ قَبِيحٍ أَسْرَرْتُهُ، وَكُلَّ جَهْلٍ عَمِلْتُهُ، كَتَمْتُهُ أَوْ أَعْلَنْتُهُ، أَخْفَيْتُهُ أَوْ أَظْهَرْتُهُ، وَكُلَّ سَيِّئَةٍ أَمَرْتَ بِإِثْباتِها الكِرامَ الكاتِبِينَ، الَّذِينَ وَكَّلْتَهُمْ بِحِفْظِ ما يَكُونُ مِنِّي، وَجَعَلْتَهُمْ شُهُوداً عَلَيّ مَعَ جَوارِحِي، وَكُنْتَ أَنْتَ الرَّقِيبَ عَلَيَّ مِنْ وَرائِهِمْ، وَالشَّاهِدَ لِمَا خَفِي عَنْهُمْ وَبِرَحْمَتِكَ أَخْفَيْتَهُ، وَبِفَضْلِكَ سَتَرْتَهُ، وَأَنْ تُوَفِّرَ حَظِّي مِنْ كُلِّ خَيْرٍ أَنْزَلْتَهُ، أَوْ إِحْسانٍ فَضَّلْتَهُ، أَوْ بِرٍّ نَشَرْتَهُ، أَوْ رِزْقٍ بَسَطْتَهُ، أَوْ ذَنْبٍ تَغْفِرُهُ، أَوْ خَطَأٍ تَسْتُرُهُ، يا رَبِّ يا رَبِّ يا رَبِّ، يا إِلهِي وَسَيِّدِي وَمَوْلايَ وَمالِكَ رِقِّي، يامَنْ بِيَدِهِ ناصِيَتِي، يا عَلِيماً بِضُرِّي وَمَسْكَنَتِي، يا خَبِيراً بَفَقْرِي وَفاقَتِي، يا رَبِّ يا رَبِّ يا رَبِّ، أَسأَلُكَ بِحَقِكَ وَقُدْسِكَ وَأَعْظَمِ صِفاتِكَ وَأَسْمائِكَ، أَنْ تَجْعَلَ أَوْقاتِي فِي اللّيْلِ وَالنَّهارِ بَذِكْرِكَ مَعْمُورَةً، وَبِخِدْمَتِكَ مَوْصُولَةً، وَأَعْمالِي عِنْدَكَ مَقْبُولَةً، حَتَّى تَكُونَ أَعْمالِي وأوْرَادِي كُلُّها وِرْداً وَاحِداً، وَحَالِي فِي خِدْمَتِكَ سَرْمَداً. يا سَيِّدِي يامَنْ عَلَيْهِ مُعَوَّلِي، يامَنْ إِلَيْهِ شَكَوْتُ أَحْوالِي، يا رَبِّ يا رَبِّ يا رَبِّ، قَوِّ عَلى خِدْمَتِكَ جَوارِحِي وَاشْدُدْ عَلى العَزِيمَةِ جَوانِحِي، وَهَبْ لِيَ الجِدَّ فِي خَشْيَتِكَ، وَالدَّوامَ فِي الاِتِّصالِ بِخِدْمَتِكَ حَتَّى أَسْرَحَ إِلَيْكَ فِي مَيادِينِ السابِقِينَ، وأُسْرِعَ إِلَيْكَ فِي البَارِزِينَ، وَأَشْتاقَ إِلى قُرْبِكَ فِي المُشْتاقِينَ، وَأَدْنُوَ مِنْكَ دُنُوَّ المُخْلِصِينَ، وَأَخافَكَ مَخافَةَ المُوقِنِينَ، وَأَجْتَمِعَ فِي جِوارِكَ مَعَ المُؤْمِنِينَ.
<br/>
اللّهُمَّ وَمَنْ أَرادَنِي بِسوءٍ فَأَرِدْهُ، وَمَنْ كادَنِي فَكِدْهُ، وَاجْعَلْنِي مِنْ أَحْسَنِ عَبِيدِكَ نَصِيباً عِنْدَكَ، وَأَقْرَبِهِمْ مَنْزِلَةً مِنْكَ، وَأَخَصِّهِمْ زُلْفَةً لَدَيْكَ، فَإِنَّهُ لا يُنالُ ذلِكَ إِلَّا بِفَضْلِكَ، وَجُدْ لِي بِجُودِكَ، وَاعْطِفْ عَلَيَّ بَمَجْدِكَ وَاحْفَظْنِي بِرَحْمَتِكَ، وَاجْعَلْ لِسانِي بِذِكْرِكَ لَهِجاً، وَقَلْبِي بِحُبِّكَ مُتَيَّماً، وَمُنَّ عَلَيَّ بِحُسْنِ إِجابَتِكَ، وَأَقِلْنِي عَثْرَتِي، وَاغْفِرْ زَلَّتِي، فَإِنَّكَ قَضَيْتَ عَلَى عِبادِكَ بِعِبادَتِكَ، وَأَمَرْتَهُمْ بِدُعائِكَ، وَضَمِنْتَ لَهُمُ الْإِجابَةَ، فَإِلَيْكَ يا رَبِّ نَصَبْتُ وَجْهِي، وَإِلَيْكَ يا رَبِّ مَدَدْتُ يَدِي، فَبِعِزَّتِكَ اسْتَجِبْ لِي دُعائِي، وَبَلِّغْنِي مُنَايَ، وَلا تَقْطَعْ مِنْ فَضْلِكَ رَجَائِي، وَاكْفِنِي شَرَّ الجِنِّ وَالإِنْسِ مِنْ أعْدائِي. يا سَرِيعَ الرِّضَا اغْفِرْ لِمَنْ لا يَمْلِكُ إِلَّا الدُّعاءَ، فَإِنَّكَ فَعَّالٌ لِما تَشاءُ، يامَنِ اسْمُهُ دَواءٌ، وَذِكْرُهُ شِفاءٌ، وَطاعَتُهُ غِنىً، إِرْحَمْ مَنْ رَأسُ مالِهِ الرَّجاءُ وَسِلاحُهُ البُكاءُ، يا سَابِغَ النِّعَمِ يا دافِعَ النِّقَمِ، يا نُورَ المُسْتَوْحِشِينَ فِي الظُّلَمِ، يا عالِماً لا يُعَلَّمُ، صَلِّ عَلَى مُحَمَّدٍ وَآلِ مُحَمَّدٍ، وَافْعَلْ بِي ما أَنْتَ أَهْلُهُ، وَصَلَّى اللهُ عَلَى رَسُولِهِ وَالأَئِمَّةِ المَيامِينَ مِنْ آلِهِ وَسَلَّمَ تَسْلِيْمَاً كَثِيْرَاً.     
                        
<br/><br/><br/>
                        
						</div>

						
						
						
					</div>
				</div>
			</div>
		</div>
			
			
		<script>
			function playAudio_new(filename,is_from_web) {
				$("#durationTimer").html("--:--");
				$("#audioTimer").html("00:00");
				
				audio.stop();
				setTimeout(function(){
					playAudio(filename,is_from_web);
				}, 600);
			}
		</script>
		<div id="smgroup_audio_player" >
				<span id="audioTimer" >00:00</span>&nbsp 
				<span id="durationTimer" >--:--</span>
				<div id="audioPosition" >
					<input type="range" name="slider" id="slider" disabled="disabled" value="0" min="0" max="60" style="padding:0;margin:0;" />
				</div>
				<div class="audio_btn">
					<input type="button" id="play" value="" class="play_it need_download" online="http://imamali.net/app-json/audio/komeil.mp3" /><!--play_type="offline"-->
					<input type="button" id="play2" value="" />
					<input type="button" id="pause" value="" />
					<input type="button" id="stop" value="Stop" />
				</div>
		</div>
		<div class="progress-bar-parent">
			<div class="progress-bar green glow">
				<div id="status"></div>
				<span class="progress-bar-percent" style="width: 1%"></span>
				<div id="descripion">
					<div class="first">التحمیل</div>
				</div>
				<div id="abort_box"><input type="button" id="abort" value="إلغاء" /></div>
			</div>
		</div>
			
	</div>
	
	
<script>
	//init_audio("audio/roze/0.mp3");

	audio_Timer = $("#audioTimer");
	duration_Timer = $("#durationTimer");
	slider_Timer = $("#slider");
	
	audio = null;
	audioTimer = null;
	pausePos = 0;
	
	function init_audio(my_file){
		/*
		if (audio) {
			play_btn.css("display","block");
			play2_btn.css("display","none");
			pause_btn.css("display","none");
			
			slider_Timer.val(0);
			stopAudio();
		}
		*/
		// Phonegap is loaded and can be used
		play_btn = $("#play");
		play2_btn = $("#play2");
		pause_btn = $("#pause");
		stop_btn = $("#stop");
		slider_Timer = $("#slider");
		slider_range = slider_Timer;
/*
		play_btn.click(function(e){
			e.preventDefault();
			play_btn.css("display","none");
			pause_btn.css("display","block");
			slider_Timer.prop("disabled",false);
			playAudio(my_file);
		});
*/
		slider_Timer.on("change", function(){
			//play_btn.prop("disabled",false);
			//play2_btn.prop("disabled",false);
			//pause_btn.prop("disabled",true);
			play2_btn.css("display","block");
			pause_btn.css("display","none");
			
			pausePos = slider_Timer.val();
			formatTime(pausePos,audio_Timer);
			pauseAudio();
			formatTime(pausePos,audio_Timer);
			audio.seekTo(pausePos*1000);
			
			setTimeout(function(){
				pausePos = temp_pausePos;
				audio.seekTo(pausePos*1000);
				formatTime(pausePos,audio_Timer);
				slider_Timer.val(pausePos);
			}, 800);
		});
		
		pause_btn.click(function(){	
			play2_btn.css("display","block");
			pause_btn.css("display","none");

			pauseAudio();
		});
		
		play2_btn.click(function(){	
			pause_btn.css("display","block");
			play2_btn.css("display","none");		
			
			PausePlayAudio();
		});
		
		stop_btn.click(function(){
			play_btn.css("display","block");
			play2_btn.css("display","none");
			pause_btn.css("display","none");
			
			slider_Timer.val(0);
			stopAudio();
		});
		
		
		file = "audio/besmella.mp3";
		if ( device.platform == 'Android' ){//Android,iOS,win7=WinCE,win8=Win32NT
			file = "/android_asset/www/" + file;
		}
		audio = new Media(file, function(){ // success callback

		}, function(error){ // error callback
			//alert("code: "    + error.code    + "\n" + "message: " + error.message + "\n");
			console.log("code: "    + error.code    + "\n" + "message: " + error.message + "\n");
		});
	}


	function playAudio(file,is_from_web){
		//alert(file);
		
		if (is_from_web==false){//Android,iOS,win7=WinCE,win8=Win32NT
			file = file.replace("http://imamali.net/app-json/", "");
		}
		if ( device.platform == 'Android' && is_from_web==false ){//Android,iOS,win7=WinCE,win8=Win32NT
			file = "/android_asset/www/" + file;
		}
		console.log("2");
		if (audio) {
			console.log("3");
			audio.stop();
			//audio.release();
		}
		console.log("4");
		
		$("#smgroup_audio_player").show();
		play_btn.css("display","none");
		play2_btn.css("display","none");
		pause_btn.css("display","block");
		slider_Timer.prop("disabled",false);
		
		audio = new Media(file, function(){ // success callback
			console.log("playAudio():Audio Success");
			play_btn.css("display","block");
			play2_btn.css("display","none");
			pause_btn.css("display","none");
		
			slider_Timer.val(0);
			stopAudio();
		}, function(error){ // error callback
			//alert("code: "    + error.code    + "\n" + "message: " + error.message + "\n");
			console.log("code: "    + error.code    + "\n" + "message: " + error.message + "\n");
		});
		//alert("3");
		// get audio duration
		var duration = audio.getDuration();
		var duration_show = false;
		
		// set slider data
		if( duration > 0 ){
			formatTime(duration,duration_Timer);
			slider_Timer.attr( "max", Math.round(duration) );
			//slider_Timer.slider("refresh");
			slider_Timer.val(0);
			duration_show = true;
		}

		
		// play audio
		audio.play({ playAudioWhenScreenIsLocked : true });
		
		audio.seekTo(0);
			
		// update audio position every second
		if (audioTimer == null) {
			audioTimer = setInterval(function() {
				// get audio position
				audio.getCurrentPosition(
					function(position) { // get position success
						if (position > -1) {
							setAudioPosition(position);
						}
					}, function(e) { // get position error
						alert("Error getting pos=" + e);
						//setAudioPosition(duration);
					}
				);
				if(!duration_show){
					duration = audio.getDuration();
					if( duration > 0 ){
						formatTime(duration,duration_Timer);
						slider_Timer.attr( "max", Math.round(duration) );
						//slider_Timer.slider("refresh");
						duration_show = true;
					}
				}
			}, 1000);
		}
	}


	function pauseAudio() {
		if (audio) {
			audio.pause();
		}
	}
	
	function PausePlayAudio() {
		if (audio) {
			audio.pause();
			audio.seekTo(pausePos*1000);
			audio.play();
		}
	}


	function stopAudio() {
		if (audio) {
			audio.stop();
			audio.release();
		}
		clearInterval(audioTimer);
		audioTimer = null;
		pausePos = 0;
		formatTime(0,audio_Timer);
	}


	function setAudioPosition(position) {
		pausePos = position;
		position = Math.round(position);
		slider_Timer.val(position);
		formatTime(position,audio_Timer);
		//slider_Timer.slider("refresh");
		//slider_Timer.val(0);
	}

	function formatTime(seconds,Timer) {
		if (seconds <= 0)
		{
			Timer.html("00:00");
			return;
		}	
		var minutes = Math.floor(seconds / 60);
		
		if (minutes < 10)
			minutes = "0" + minutes;

		seconds = seconds % 60;
		if (seconds < 10)
			seconds = "0" + seconds;
		seconds = Math.round(seconds);
		
		Timer.html(minutes + ":" + seconds);
	};
</script>
</body>
</html>